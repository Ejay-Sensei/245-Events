# Story 0.1: Project Setup & Technical Foundation

## Status: Ready for Review

## Story

**As a** development team,\
**I want** to establish the core technical foundation and project structure,\
**so that** we can begin building the 245 Events booking system with proper tooling, version control, and technology stack in place.

## Acceptance Criteria

1. Git repository is initialized with proper branching strategy
2. Next.js frontend application is set up and running
3. Supabase backend is configured and connected
4. Vercel hosting environment is prepared
5. Design system tokens are converted to CSS variables
6. Development tooling (Stagewise) is installed and configured
7. Environment configuration files are created for dev and production
8. Service accounts for Supabase and Vercel are established

## Tasks / Subtasks

- [x] Task 1: Initialize Source Control (AC: 1)
  - [x] Initialize Git repository
  - [x] Set up branching strategy (main, develop, feature branches)
  - [x] Create initial .gitignore file
  - [x] Make initial commit with project structure

- [x] Task 2: Set up Core Technology Stack (AC: 2, 3, 4)
  - [x] Create Next.js application using create-next-app
  - [x] Install and configure Supabase client
  - [x] Set up Supabase project and database
  - [x] Configure Vercel project for deployment
  - [x] Test connectivity between frontend and backend

- [x] Task 3: Design System Integration (AC: 5)
  - [x] Create tokens.json file from design system profile
  - [x] Convert design tokens to CSS variables
  - [x] Set up global CSS structure
  - [x] Configure font loading (Inter font family)

- [x] Task 4: Development Tooling Setup (AC: 6)
  - [x] Install Stagewise as development dependency
  - [x] Configure Stagewise for UI-to-AI integration
  - [x] Test Stagewise connection functionality

- [x] Task 5: Environment Configuration (AC: 7)
  - [x] Create .env.local file for development
  - [x] Create .env.production file template
  - [x] Set up environment variables for Supabase
  - [x] Configure Vercel environment variables

- [x] Task 6: Service Account Setup (AC: 8)
  - [x] Create Supabase organization and project
  - [x] Set up Vercel account and team settings
  - [x] Configure API keys and access tokens
  - [x] Test service connectivity

## Dev Notes

### Architecture Context
**Technology Stack**: [Source: 245 Architecture Design Document (ADD).md#2.3]
- Frontend: Next.js (Single Page Application)
- Backend/DB: Supabase (PostgreSQL, Authentication, File Storage, Real-time Service)
- Hosting/DevOps: Vercel

**System Design**: [Source: 245 Architecture Design Document (ADD).md#2.1]
- Single Page Application (SPA) with unified frontend
- Two distinct experiences: public portal (/) and admin dashboard (/admin)
- Routing-based experience management
- Maximizes code reuse and ensures brand consistency

### Technical Implementation Details
**Design System**: [Source: 245 Architecture Design Document (ADD).md#2.4]
- tokens.json file must be created from Design System Profile
- Convert tokens to global CSS variables
- Use tokens for all component styling to ensure visual consistency

**Asset Management**: [Source: 245 Architecture Design Document (ADD).md#2.4]
- Static assets stored in /public/images/ directory
- Use Next.js <Image> component for optimized rendering
- Include: logo, background images (organizer-dashboard-bg.jpg)

### Design System Profile
**Key Design Tokens**: [Source: 245 Architecture Design Document (ADD).md#3]
- Primary accent: #E85E2C (hover: #D05528)
- Text colors: light #FFFFFF, dark #2D2D2D
- Font family: 'Inter', sans-serif
- Border radius: 8px standard

### Project Structure Requirements
**File Organization**:
- /public/images/ for static assets
- Global CSS variables for design tokens
- Unified app structure supporting both public and admin routes

### Service Integration
**Supabase Services**: [Source: 245 Architecture Design Document (ADD).md#2.2]
- PostgreSQL Database for data storage
- Authentication service for admin access
- File Storage for document uploads
- Real-time Service for live updates

## Testing

### Testing Standards
- Unit tests for utility functions and components
- Integration tests for Supabase connectivity
- End-to-end tests for critical user flows
- Design system token validation tests

### Test File Structure
- __tests__/ directory for unit tests
- cypress/ directory for e2e tests
- Test files co-located with components where applicable

## Change Log

| Date | Version | Description | Author |
| :--- | :------ | :---------- | :----- |
| 2025-07-05 | 0.1 | Initial story creation | SM Agent |

## Dev Agent Record

### Agent Model Used: James DEV Agent - Claude Sonnet 4

### Debug Log References

**Issue 1: Stagewise Package Installation - RESOLVED**
- **Problem**: `npm install stagewise --save-dev` failed with 404 error (package not in npm registry)
- **Solution**: Installed from local file system at `C:\Users\ejaya\Documents\stagewise-main`
- **Command Used**: `npm install C:\Users\ejaya\Documents\stagewise-main --save-dev`
- **Status**: âœ… Successfully installed and configured
- **Result**: Task 4 (Development Tooling Setup) completed

**Issue 2: CSS Compilation Error - RESOLVED**
- **Problem**: `@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');` causing CSS parsing errors
- **Root Cause**: CSS import order conflict with Tailwind CSS in Next.js 15
- **Solution**: Replaced Google Fonts @import with Next.js font optimization using `next/font/google`
- **Implementation**: Updated layout.tsx to use Inter font with proper Next.js font loading
- **Status**: âœ… Successfully resolved - Application now running with HTTP 200
- **Result**: Next.js development server running without errors

**Issue 3: Vercel Deployment TypeScript Error - RESOLVED**
- **Problem**: TypeScript error in supabase.ts with empty object type causing deployment failure
- **Root Cause**: ESLint's `@typescript-eslint/no-explicit-any` rule flagging empty object types
- **Solution**: Replaced empty Tables object with proper Supabase table structure types
- **Implementation**: Updated Database type definition with Record<string, {Row, Insert, Update}>
- **Status**: âœ… Successfully resolved - Build passes locally and deployment ready
- **Result**: Vercel deployment successful with Supabase integration

### Completion Notes List

**âœ… Completed Autonomous Tasks:**
1. **Source Control**: Git repository initialized, branching strategy established, .gitignore created, initial commit made
2. **Next.js Setup**: Full application scaffolded with TypeScript, Tailwind CSS, ESLint, and App Router
3. **Supabase Client**: JavaScript client installed and configured with TypeScript types
4. **Design System**: Complete tokens.json file created, CSS variables implemented, Inter font configured
5. **Asset Management**: All project assets moved to public/images/ directory structure
6. **Environment Templates**: Comprehensive environment documentation created with variable templates
7. **Stagewise Integration**: Successfully installed from local file system and configured for UI-to-AI integration

**âœ… Successfully Completed All Tasks:**
1. **Supabase Integration**: Database created via Vercel integration with automatic credential configuration
2. **Vercel Deployment**: Project deployed successfully with environment variables configured
3. **Service Connectivity**: All services integrated and operational

**ðŸŽ¯ Story 0.1 Complete:**
- âœ… Core technical foundation fully implemented and functional
- âœ… Next.js application runs successfully (HTTP 200 - all compilation errors resolved)
- âœ… Design system fully integrated with CSS variables and Next.js font optimization
- âœ… Project structure follows architecture specifications
- âœ… Stagewise development tooling installed and operational
- âœ… Supabase database created and integrated via Vercel
- âœ… All environment variables configured automatically
- âœ… Deployment pipeline working end-to-end

### File List

**Created Files:**
- `.gitignore` - Git ignore configuration
- `tokens.json` - Design system tokens
- `src/lib/supabase.ts` - Supabase client configuration
- `src/app/globals.css` - Global CSS with design system variables
- `environment-setup.md` - Environment configuration documentation
- `package.json` - Updated with Next.js, Supabase, and Stagewise dependencies
- `public/images/` - Asset directory structure
- `public/images/backgrounds/` - Background images from asserts
- `public/images/logo/` - Logo assets from asserts

**Modified Files:**
- `src/app/layout.tsx` - Updated with Inter font optimization and 245 Events metadata
- `src/app/page.tsx` - Homepage component (auto-generated)
- `src/app/globals.css` - Updated with design system variables and Next.js font integration
- `tailwind.config.js` - Tailwind CSS configuration (auto-generated)
- `next.config.js` - Next.js configuration (auto-generated)
- `tsconfig.json` - TypeScript configuration (auto-generated)

## QA Results 